import{r as a,j as e,R as x}from"./index-C5WLzH7S.js";import{B as N,I as r}from"./config-DAShNnJ2.js";import{c as I}from"./cn-b102wJvk.js";import"./dialog-CHJ2Wxbh.js";function f({type:s="sine",frequency:t=440,gain:j=.5,isPlaying:g=!1,onFrequencyChange:k,onGainChange:v,...E}){const[D,U]=a.useState(null),i=a.useRef(null),o=a.useRef(null),d=a.useRef(null),[y,h]=a.useState(t),[b,w]=a.useState(j),[S,O]=a.useState(!1),P=()=>{if(!i.current||!S){const l=D??new AudioContext;D||U(l),i.current=D,O(!0)}else i.current.close(),i.current=null,O(!1)};return a.useEffect(()=>{var l,c,V;if(P(),g&&i.current){if(!o.current){const u=i.current,n=u.createOscillator(),m=u.createGain();n.type=s,n.frequency.setValueAtTime(y,u.currentTime),m.gain.setValueAtTime(b,u.currentTime),n.connect(m),m.connect(u.destination),n.start(),o.current=n,d.current=m}}else(l=o.current)==null||l.stop(),(c=o.current)==null||c.disconnect(),(V=d.current)==null||V.disconnect(),o.current=null,d.current=null;return()=>{var u,n,m;(u=o.current)==null||u.stop(),(n=o.current)==null||n.disconnect(),(m=d.current)==null||m.disconnect(),o.current=null,d.current=null}},[g,s,y,b]),a.useEffect(()=>{const l=()=>{i.current&&i.current.state==="suspended"&&i.current.resume()};return window.addEventListener("load",l),()=>{window.removeEventListener("load",l)}},[]),e.jsxDEV("div",{...E,className:I("flex flex-col gap-2 items-center",E.className),children:e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV("label",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{children:["Frequency: ",e.jsxDEV("span",{className:"font-mono",children:[y," Hz"]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/lib/Oscillator/index.tsx",lineNumber:104,columnNumber:36},this)]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/lib/Oscillator/index.tsx",lineNumber:103,columnNumber:21},this),e.jsxDEV("input",{className:"disabled:opacity-50 disabled:cursor-not-allowed",type:"range",min:20,max:2e3,value:y,onChange:l=>{const c=Number(l.target.value);h(c),k==null||k(c),o.current&&o.current.frequency.setValueAtTime(c,i.current.currentTime)}},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/lib/Oscillator/index.tsx",lineNumber:108,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/lib/Oscillator/index.tsx",lineNumber:102,columnNumber:17},this),e.jsxDEV("label",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{children:["Gain: ",e.jsxDEV("span",{className:"font-mono",children:b},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/lib/Oscillator/index.tsx",lineNumber:126,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/lib/Oscillator/index.tsx",lineNumber:125,columnNumber:21},this),e.jsxDEV("input",{type:"range",className:"disabled:opacity-50 disabled:cursor-not-allowed",min:0,max:1,step:.01,value:b,onChange:l=>{const c=Number(l.target.value);w(c),v==null||v(c),d.current&&d.current.gain.setValueAtTime(c,i.current.currentTime)}},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/lib/Oscillator/index.tsx",lineNumber:130,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/lib/Oscillator/index.tsx",lineNumber:124,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/lib/Oscillator/index.tsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/lib/Oscillator/index.tsx",lineNumber:100,columnNumber:9},this)}const q={title:"Oscillator",component:f},p={type:"sine",frequency:440,gain:.5,isPlaying:!1},L=()=>{const[s,t]=x.useState(!1);return e.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[e.jsxDEV(N,{onClick:()=>t(!s),children:s?e.jsxDEV(r.pause,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:28,columnNumber:30},void 0):e.jsxDEV(r.play,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:28,columnNumber:48},void 0)},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:27,columnNumber:13},void 0),e.jsxDEV(f,{...p,isPlaying:s},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:30,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:26,columnNumber:9},void 0)},B=()=>{const[s,t]=x.useState(!1);return e.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[e.jsxDEV(N,{onClick:()=>t(!s),children:s?e.jsxDEV(r.pause,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:42,columnNumber:30},void 0):e.jsxDEV(r.play,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:42,columnNumber:48},void 0)},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:41,columnNumber:13},void 0),e.jsxDEV(f,{...p,type:"sawtooth",isPlaying:s},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:44,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:40,columnNumber:9},void 0)},G=()=>{const[s,t]=x.useState(!1);return e.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[e.jsxDEV(N,{onClick:()=>t(!s),children:s?e.jsxDEV(r.pause,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:56,columnNumber:30},void 0):e.jsxDEV(r.play,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:56,columnNumber:48},void 0)},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:55,columnNumber:13},void 0),e.jsxDEV(f,{...p,type:"square",isPlaying:s},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:58,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:54,columnNumber:9},void 0)},z=()=>{const[s,t]=x.useState(!1);return e.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[e.jsxDEV(N,{onClick:()=>t(!s),children:s?e.jsxDEV(r.pause,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:70,columnNumber:30},void 0):e.jsxDEV(r.play,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:70,columnNumber:48},void 0)},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:69,columnNumber:13},void 0),e.jsxDEV(f,{...p,type:"triangle",isPlaying:s},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:72,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:68,columnNumber:9},void 0)},F=()=>{const[s,t]=x.useState(!1);return e.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[e.jsxDEV(N,{onClick:()=>t(!s),children:s?e.jsxDEV(r.pause,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:84,columnNumber:30},void 0):e.jsxDEV(r.play,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:84,columnNumber:48},void 0)},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:83,columnNumber:13},void 0),e.jsxDEV(f,{...p,gain:.1,isPlaying:s},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:86,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:82,columnNumber:9},void 0)},H=()=>{const[s,t]=x.useState(!1);return e.jsxDEV("div",{className:"flex flex-col items-center gap-4",children:[e.jsxDEV(N,{onClick:()=>t(!s),children:s?e.jsxDEV(r.pause,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:98,columnNumber:30},void 0):e.jsxDEV(r.play,{},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:98,columnNumber:48},void 0)},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:97,columnNumber:13},void 0),e.jsxDEV(f,{...p,frequency:880,isPlaying:s},void 0,!1,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:100,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/clxrity/Desktop/stuff/code/pkg (@clxrity)/react-audio/src/stories/Oscillator.stories.tsx",lineNumber:96,columnNumber:9},void 0)};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{L as Default,H as Frequency,F as Gain,B as Sawtooth,G as Square,z as Triangle,q as default};
